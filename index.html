
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>æ¶å ´é€šçŸ¥ç”¢ç”Ÿå™¨</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      font-family: sans-serif;
      font-size: 18px;
      padding: 10px;
    }

    .time-buttons, .player-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 10px;
    }

    .time-buttons button, .player-buttons button {
      flex: 1 1 auto;
      min-width: 90px;
      padding: 10px;
      font-size: 16px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }

    .time-buttons button.active {
      background-color: #4CAF50;
      color: white;
    }

    .player-buttons button.assigned {
      background-color: #2196F3;
      color: white;
    }

    button {
      margin-top: 10px;
      font-size: 16px;
    }

    textarea {
      width: 100%;
      height: 220px;
      font-size: 16px;
      margin-top: 10px;
    }
  </style>
</head>
<body>

  <div id="weather">
  <h3>ğŸŒ¤ ä»Šæ—¥ç«¹åŒ—å¸‚å¤©æ°£é å ±</h3>
  <!-- ç«¹åŒ—å¸‚å¤©æ°£é å ± -->
<div style="width: 100%; max-width: 400px; margin-bottom: 10px;">
  <a class="weatherwidget-io" href="https://forecast7.com/zh-tw/24d84n121d01/zhubei/" data-label_1="ç«¹åŒ—å¸‚å¤©æ°£" data-label_2="ä»Šæ—¥é å ±" data-theme="pure">ç«¹åŒ—å¸‚å¤©æ°£</a>
</div>
<script>
!function(d,s,id){
  var js,fjs=d.getElementsByTagName(s)[0];
  if(!d.getElementById(id)){
    js=d.createElement(s);js.id=id;js.src='https://weatherwidget.io/js/widget.min.js';
    fjs.parentNode.insertBefore(js,fjs);
  }
}(document,'script','weatherwidget-io-js');
</script>

    
  
  <button onclick="setRain(true)">â˜” ä¸‹é›¨</button>
  <button onclick="setRain(false)">â˜€ ä¸ä¸‹é›¨</button>
</div>
<hr>


<h2>æ¶å ´é€šçŸ¥ç”¢ç”Ÿå™¨</h2>
<p>1ï¸âƒ£ é»é¸æ™‚é–“ âœ 2ï¸âƒ£ é»é¸äººå“¡ï¼ˆæœƒè‡ªå‹•å‡ºç¾åœ¨è©²æ™‚æ®µï¼‰</p>

<div class="time-buttons" id="timeButtons"></div>

<h3>é¸æ“‡åƒåŠ è€…</h3>
<div class="player-buttons" id="playerButtons"></div>

<br>
<button onclick="copyToClipboard()">ğŸ“‹ è¤‡è£½æ–‡å­—</button>
<button onclick="clearAll()">ğŸ§¹ æ¸…ç©ºå…¨éƒ¨</button>
<button onclick="shareToLine()">ğŸ’¬ åˆ†äº«åˆ° LINE</button>

<br>
<textarea id="output" placeholder="é€™è£¡æœƒå³æ™‚é¡¯ç¤ºé€šçŸ¥å…§å®¹..."></textarea>

<script>


  
  const times = ["18:00", "18:30", "19:00", "19:30", "20:00"];
  let selectedTime = null;
  const assignments = {};
  const playerStatus = {};

  const players = [
    { id: "CK17583è”¡ä½³ä½‘483", label: "ä½³ä½‘ Arvin" },
    { id: "CK17671è³´éŸ‹ä¼¶052", label: "éŸ‹ä¼¶ Lynn" },
    { id: "CK17711æ¥Šå®¶æ¦®791", label: "å®¶æ¦® Barry" },
    { id: "CK17824é™³æ¯…åº­705", label: "æ¯…åº­ Eden" },
    { id: "CK17759é™³å† å‹³033", label: "å† å‹³ Andersen" },
    { id: "CK17778åŒ…åœ‹å®063", label: "åœ‹å® Luke" },
    { id: "CK17801åŠ‰åº­å®‡161", label: "åº­å®‡ Ben" },
    { id: "CK17678å»–é¡¯å¾·467", label: "é¡¯å¾· Jerry" },
    { id: "CK17792å¼µå˜‰è531", label: "å˜‰è ChiaWen" },
    { id: "CK17718å¼µå¯Œç¿”492", label: "å¯Œç¿” Oscar" },
    { id: "CK17795ç‹å† ç¿”436", label: "å† ç¿” Damien" },
    { id: "CK17793æ–¹  ç…’218", label: "æ–¹ç…’ Tony" },
    { id: "CK17812æ—æ°å‡±808", label: "æ°å‡± Adam" },
    { id: "CK17670å³æ”¿å®‡936", label: "æ”¿å®‡ Dennis" },
    { id: "CK17509æ›¾å®‡æº¢406", label: "å®‡æº¢ Eugene" },
    { id: "CK17630è©¹éˆè²¿628", label: "éˆè²¿ CM" },
    { id: "CK17556ç™½æ‰¿å‰687", label: "å°ç™½ Chuck" },
    { id: "CK17657æ—æ¥Šå‡±196", label: "æ¥Šå‡± Zack" },
    { id: "CK17815è”¡ä½³å®079", label: "ä½³å® Ian" },
    { id: "CK17724è¬å¾·æ…¶104", label: "å¾·æ…¶ Lantis" },
    { id: "CF32054æ—å®—ç¿°314", label: "å®—ç¿°" }
  ];

  // å»ºç«‹æ™‚é–“æŒ‰éˆ•
  const timeButtonsDiv = document.getElementById("timeButtons");
  times.forEach(time => {
    const btn = document.createElement("button");
    btn.textContent = time;
    btn.onclick = () => {
      selectedTime = time;
      document.querySelectorAll(".time-buttons button").forEach(b => b.classList.remove("active"));
      btn.classList.add("active");
    };
    timeButtonsDiv.appendChild(btn);
  });

  // å»ºç«‹äººå“¡æŒ‰éˆ•
  const playerButtonsDiv = document.getElementById("playerButtons");
  players.forEach(player => {
    const btn = document.createElement("button");
    btn.textContent = player.label;
    btn.onclick = () => {
  if (!selectedTime) {
    alert("è«‹å…ˆé¸æ“‡ä¸€å€‹æ™‚æ®µï¼");
    return;
  }

  // å¦‚æœå·²ç¶“é¸éï¼Œä¸”æ˜¯åŒä¸€å€‹æ™‚æ®µ â†’ å–æ¶ˆåˆ†é…
  if (playerStatus[player.id] === selectedTime) {
    assignments[selectedTime] = assignments[selectedTime].filter(id => id !== player.id);
    delete playerStatus[player.id];
  } else {
    // ç§»é™¤èˆŠæ™‚æ®µ
    if (playerStatus[player.id]) {
      const oldTime = playerStatus[player.id];
      assignments[oldTime] = assignments[oldTime].filter(id => id !== player.id);
    }

    // åŠ å…¥æ–°æ™‚æ®µ
    playerStatus[player.id] = selectedTime;
    if (!assignments[selectedTime]) assignments[selectedTime] = [];
    assignments[selectedTime].push(player.id);
  }

  updatePlayerButtons();
  updateOutput();
};
    
    
    
    
    
    
    
    btn.id = "btn_" + player.id;
    playerButtonsDiv.appendChild(btn);
  });

  function updatePlayerButtons() {
    players.forEach(player => {
      const btn = document.getElementById("btn_" + player.id);
      if (playerStatus[player.id]) {
        btn.classList.add("assigned");
        btn.textContent = players.find(p => p.id === player.id).label + ` âœ… (${playerStatus[player.id]})`;
      } else {
        btn.classList.remove("assigned");
        btn.textContent = players.find(p => p.id === player.id).label;
      }
    });
  }

  function updateOutput() {
  let message = "";
  message += isRain
    ? "éº»ç…©14:00å¹«å¿™ä¸€èµ·æ¶å ´åœ°\n03-560-1068\nå ´åœ°é ç´„é †åºBCDA\n"
    : "éº»ç…©14:00å¹«å¿™ä¸€èµ·æ¶å ´åœ°\n03-560-1068\nå ´åœ°é ç´„é †åºABCD\n";

  const timeOrder = Object.keys(assignments).sort(); // ç…§æ™‚é–“é †åºæ’åˆ—
  timeOrder.forEach(time => {
    message += `${time}\n`;
    assignments[time].forEach(id => {
      const player = players.find(p => p.id === id);
      message += `${player.id}${player.name}${player.code}\n`;
    });
  });

  document.getElementById("output").value = message;
}


  function copyToClipboard() {
    const output = document.getElementById("output");
    output.select();
    document.execCommand("copy");
    alert("å·²è¤‡è£½åˆ°å‰ªè²¼ç°¿ï¼");
  }

  function clearAll() {
    selectedTime = null;
    for (const key in assignments) delete assignments[key];
    for (const key in playerStatus) delete playerStatus[key];
    updatePlayerButtons();
    document.querySelectorAll(".time-buttons button").forEach(b => b.classList.remove("active"));
    document.getElementById("output").value = "";
  }
  
  function shareToLine() {
  const message = document.getElementById("output").value;
  if (!message) {
    alert("ç›®å‰æ²’æœ‰ç”¢ç”Ÿçš„è¨Šæ¯å¯ä»¥åˆ†äº«ï¼");
    return;
  }
  const url = `https://line.me/R/msg/text/?${encodeURIComponent(message)}`;
  window.open(url);
}



  
 




  
</script>

</body>
</html>
